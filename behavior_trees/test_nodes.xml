<root main_tree_to_execute="MainTree" BTCPP_format="4">
  <include path="tree_nodes_model.xml" />
  
  <BehaviorTree ID="MainTree">

    <Sequence name="RootSequence">
      <SetBlackboard output_key="default_controller_name" value="right_arm_joint_trajectory_controller"/>

      <!-- <TriggerService service_name="/grasp_dual_service"/> -->
      
      <StoreCurrentJointPos joint_out="{stored_joints}" />

      <!-- <Action ID="SetDisplaySkill" preset="approach" /> -->

      <Action ID="RollerGripper" prefix="right" action="open" />

      <Action ID="StackDetection" stack_pose="{stack_pose}" />
      <Action ID="MoveCartesian" target_pose="{stack_pose}" ik_frame="right_arm_wrist_3_link" time="3.5" />

      <Action ID="MoveEEF" y="0.035" z="0.007" time="2"/>
      <!-- <Action ID="RollerGripper" prefix="right" action="close" /> -->
      <Action ID="MoveEEF" y="-0.1" time="1.5"/>

      <Action ID="MoveJoint" joint_values="{stored_joints}" time="3" />


      <!-- <Action ID="RollerGripper" prefix="left" action="open" />
      <Action ID="RollerGripper" prefix="left" action="roll" roller_vel="50" roller_duration="5" />
      <Action ID="RollerGripper" prefix="left" action="close" />
      <Action ID="RollerGripper" prefix="left" action="open" />

      <Action ID="RollerGripper" prefix="right" action="open" />
      <Action ID="RollerGripper" prefix="right" action="roll" roller_vel="-50" roller_duration="5" />
      <Action ID="RollerGripper" prefix="right" action="close" />
      <Action ID="RollerGripper" prefix="right" action="open" /> -->
      
    </Sequence>
  </BehaviorTree>

</root>

